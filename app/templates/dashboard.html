{% extends "layout.html" %}
{% block content %}
  <div class="metric-row">
    <div class="col-lg-3">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="{{ url_for('main.vehicles') }}" class="metric metric-bordered text-center no-margin">
            <b>Total Vehicles</b>
            <p class="metric-value h3 mt-2">
              <sub><i class="fas fa-car font-size-25 text-success"></i></sub> <span class="value">1500</span>
            </p>
            <div class="d-flex justify-content-between mb-4">
              <b class="mt-3">EV: 1000</b>
              <b class="mt-3">ICE: 250</b>
              <b class="mt-3">Hybrid: 250</b>
            </div>
            <p class="text-success font-weight-bold" style="margin-bottom: -6px;"><i class="fa fa-arrow-up" aria-hidden="true"></i> (+4 New EV)</p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="{{ url_for('main.alerts') }}" class="metric metric-bordered text-center no-margin">
            <div class="metric-badge">
              <span class="badge badge-lg badge-danger"><span class="oi oi-media-record pulse mr-1"></span> Alerts</span>
            </div>
            <p class="metric-value h3 mt-3">
              <sub><i class="fas fa-triangle-exclamation font-size-25 text-danger"></i></sub> <span class="value">23</span>
            </p>
            <p class="font-weight-bold" style="margin-top: 24px; color: #e30101;"><i class="fa fa-arrow-down" aria-hidden="true"></i> 5 vs last month</p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="{{ url_for('main.reminders') }}" class="metric metric-bordered text-center no-margin">
            <div class="metric-badge">
              <span class="badge badge-lg badge-warning"><span class="oi oi-media-record pulse mr-1"></span> Reminders</span>
            </div>
            <p class="metric-value h3 mt-3">
              <sub><i class="fas fa-bell font-size-25 text-success"></i></sub> <span class="value">48</span>
            </p>
            <p class="font-weight-bold" style="margin-top: 24px; color: #e30101;"><i class="fa fa-arrow-down" aria-hidden="true"></i> 6 vs last month</p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="{{ url_for('main.service') }}" class="metric metric-bordered text-center no-margin">
            <b>Service</b>
            <p class="metric-value h3 mt-3">
              <sub><i class="fas fa-wrench font-size-25 text-success"></i></sub> <span class="value">77</span>
            </p>
            <p class="text-success font-weight-bold" style="margin-top: 29px;"><i class="fa fa-arrow-up" aria-hidden="true"></i> 9 vs last month</p>
          </a>
        </div>
      </div>
    </div>

    <!-- <div class="col-lg-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="{{ url_for('main.routing') }}" class="metric metric-bordered text-center no-margin">
            <b>Revenue</b>
            <p class="metric-value h3 mt-3">
              <sub><i class="fas fa-usd font-size-25 text-success"></i></sub> <span class="value">13,467</span>
            </p>
            <p class="text-success font-weight-bold" style="margin-top: 29px;"><i class="fa fa-arrow-up" aria-hidden="true"></i> 33% vs last month</p>
          </a>
        </div>
      </div>
    </div> -->

    <!-- <div class="col-lg-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <span class="metric metric-bordered no-margin">
            <b>Maintenance cost</b>
            
            <b class="mt-1">$5,678<br></b>

            <b class="mt-2"><a href="/service#scheduled_table">Scheduled $4,000</a> <br> <a href="/service#unscheduled_table">Unscheduled $1678</a></b>

            <p class="font-weight-bold" style="margin-top: 12px;margin-bottom: 3px; color: #e30101;"><i class="fa fa-arrow-down" aria-hidden="true"></i> $1,200 vs last month</p>
          </span>
        </div>
      </div>
    </div> -->
  </div>

  <div class="row">
    <div class="col-xl-5">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title">Total Vehicles </h3>
          <div class="row">
            <div class="col-sm-8">
              <div class="text-center pt-3" style="margin-top: 35px;margin-bottom: 34px;">
                <div class="chart-inline-group" style="height:234px">
                  <div class="easypiechart" data-toggle="easypiechart" data-percent="60" data-size="214" data-bar-color="#00a28a" data-track-color="true" data-scale-color="false" data-rotate="225"></div>
                  <div class="easypiechart" data-toggle="easypiechart" data-percent="50" data-size="174" data-bar-color="#036a5b" data-track-color="true" data-scale-color="false" data-rotate="225"></div>
                  <div class="easypiechart" data-toggle="easypiechart" data-percent="75" data-size="134" data-bar-color="#ea6759" data-track-color="true" data-scale-color="false" data-rotate="225" id="total_vechicle_easypiechart_3"></div>
                </div>
              </div>
            </div>

            <div class="col-sm-4" style="margin-top: 60px;">
              <nav class="nav nav-tabs flex-column border-0">
                <a href="javascript:void(0);" class="nav-link active" style="border-color: #00a28a;padding: 0px;padding-left: 15px;margin-bottom: 20px;padding-top: 1px;"><span class="font-weight-bold" style="color: #00a28a">Active</span> <br>1000</a>
                <a href="javascript:void(0);" class="nav-link active" style="border-color: #036a5b;padding: 0px;padding-left: 15px;margin-bottom: 20px;padding-top: 1px;"><span class="font-weight-bold" style="color: #036a5b">Idle</span> <br>250</a>
                <a href="javascript:void(0);" class="nav-link active" style="border-color: #ea6759;padding: 0px;padding-left: 15px;margin-bottom: 20px;padding-top: 1px;"><span class="font-weight-bold" style="color: #ea6759">In Shop</span> <br>250</a>
              </nav>
            </div>
          </div>
        </div>

        <!-- <div class="card-footer">
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-success"></i> 456 <div class="text-muted small"> Active </div>
          </div>
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-yellow"></i> 78 <div class="text-muted small"> Idle </div>
          </div>
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-red"></i> 98 <div class="text-muted small"> In-shop </div>
          </div>
        </div> -->
      </div>
    </div>

    <div class="col-xl-7">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title"> Vehicle Condition <span class="text-primary float-right"></span></h3>

          <div class="row">
            <div class="col-sm-4">
              <div class="text-center pt-3">
                <div class="chart-inline-group" style="height:177px">
                  <div class="easypiechart" data-toggle="easypiechart" data-percent="80" data-size="174" data-bar-color="#00a28a" data-track-color="true" data-scale-color="false" data-rotate="225" id="vehicle_condition_easypiechart_1">Good</div>
                </div>
                <h5>1000</h5>
                <p>Vehicles</p>
                <p>
                  <b>Warranty</b> 400<br>
                  <b>Non-Warranty</b> 600
                </p>
              </div>
            </div>

            <div class="col-sm-4">
              <div class="text-center pt-3">
                <div class="chart-inline-group" style="height:177px">
                  <div class="easypiechart" data-toggle="easypiechart" data-percent="50" data-size="174" data-bar-color="#f7c46c" data-track-color="true" data-scale-color="false" data-rotate="225" id="vehicle_condition_easypiechart_2">Satisfactory</div>
                </div>
                <h5>400</h5>
                <p>Vehicles</p>
                <p>
                  <b>Warranty</b> 250<br>
                  <b>Non-Warranty</b> 150
                </p>
              </div>
            </div>

            <div class="col-sm-4">
              <div class="text-center pt-3">
                <div class="chart-inline-group" style="height:177px">
                  <div class="easypiechart" data-toggle="easypiechart" data-percent="75" data-size="174" data-bar-color="#ea6759" data-track-color="true" data-scale-color="false" data-rotate="225" id="vehicle_condition_easypiechart_3">Critical</div>
                </div>
                <h5>100</h5>
                <p>Vehicles</p>
                <p>
                  <b>Warranty</b> 70<br>
                  <b>Non-Warranty</b> 30
                </p>
              </div>
            </div>
          </div>
              
        </div>

        <!-- <div class="card-footer">
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-success"></i> 456 <div class="text-muted small"> Good </div>
          </div>
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-yellow"></i> 78 <div class="text-muted small"> Satisfactory </div>
          </div>
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-red"></i> 98 <div class="text-muted small"> Critical </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="javascript:void(0)" class="metric metric-bordered text-center no-margin">
            <b>Distance Scoreboard</b>
            <p class="metric-value h3 mt-5">
              <span class="value">7.14M</span>
            </p>
            <p class="mt-2">GPS Distance Last Month (km)</p>
            <p class="border-top" style="margin-top: 65px;">
              <span style="color: red; font-size: 20px;"> <i class="fa fa-arrow-down" aria-hidden="true"></i> -9.48 M</span><br>
              vs previos month
            </p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-sm-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="javascript:void(0)" class="metric metric-bordered text-center no-margin">
            <b>Time Scorecard</b>
            <p class="metric-value h3 mt-5">
              <span class="value">235.19K</span>
            </p>
            <p class="mt-2">Driving Time Last Month (hrs)</p>
            <p class="border-top" style="margin-top: 65px;">
              <span style="color: red; font-size: 20px;"><i class="fa fa-arrow-down" aria-hidden="true"></i> -277.47 M</span><br>
              vs previos month
            </p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-sm-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="javascript:void(0)" class="metric metric-bordered text-center no-margin">
            <b>Revenue</b>
            <p class="metric-value h3 mt-5">
              <span class="value">13.56M</span>
            </p>
            <p class="mt-2">Total Revenue Last Month (USD)</p>
            <p class="border-top" style="margin-top: 65px;">
              <span style="color: green; font-size: 20px;"> <i class="fa fa-arrow-up" aria-hidden="true"></i> +9.48 M</span><br>
              vs previos month
            </p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-sm-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="javascript:void(0)" class="metric metric-bordered text-center no-margin">
            <b>Cost Incurred</b>
            <p class="metric-value h3 mt-5">
              <span class="value">220k</span>
            </p>
            <p class="mt-2">Cost Incurred Last Month (USD)</p>
            <p class="border-top" style="margin-top: 65px;">
              <span style="color: red; font-size: 20px;"> <i class="fa fa-arrow-down" aria-hidden="true"></i> -310K</span><br>
              vs previos month
            </p>
          </a>
        </div>
      </div>
    </div>

    <div class="col-sm-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <div class="metric metric-bordered text-center no-margin">
            <b>Maintenance Cost</b>
            <p class="metric-value h3 mt-5">
              <span class="value">118K</span>
            </p>
            <p class="mt-2">Maintenance Cost Last Month (USD)</p>
            <p class="mt-2 text-center">
              <a href="/service#scheduled_table">Scheduled $4,000</a> <br> 
              <a href="/service#unscheduled_table">Unscheduled $1678</a>  
            </p>
            
            <p class="border-top" style="margin-top: 0px;">
              <span style="color: red; font-size: 20px;"> <i class="fa fa-arrow-down" aria-hidden="true"></i> -190K</span><br>
              vs previos month
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-2">
      <div class="card card-fluid">
        <div class="card-body no-padding">
          <a href="javascript:void(0)" class="metric metric-bordered text-center no-margin">
            <b>Net Income</b>
            <p class="metric-value h3 mt-5">
              <span class="value">33.18M</span>
            </p>
            <p class="mt-2">Net Income Last Month (USD)</p>
            <p class="border-top" style="margin-top: 65px;">
              <span style="color: green; font-size: 20px;"> <i class="fa fa-arrow-up" aria-hidden="true"></i> +19.48 M</span><br>
              vs previos month
            </p>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-4">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title mb-4"> Last 3 Months Fuel Trends </h3>
          <div class="chartjs" style="height: 192px">
            <canvas id="last_3_months_fuel_trends"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title mb-4"> Last 3 Months Mileage Trends </h3>
          <div class="chartjs" style="height: 192px">
            <canvas id="last_3_months_mileage_trends"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title mb-4"> CO2 Emission Report </h3>
          <div class="chartjs" style="height: 192px">
            <canvas id="co2_emission_report"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title text-center"> Fleet Usage: EV vs Fuel with Cost Impact </h3>
          <div>
            <canvas id="ev_usage_graph_area" width="100%" height="300"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card card-fluid">
        <div class="card-body">
          <iframe src="/weekly-idle-cost-line-graph" style="min-height: 313px; width: 100%; border: none; overflow: hidden;" id="weekly_idle_cost_line_graph_iframe" scrolling="no"></iframe>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-6">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title text-center">Top 5 Performing Vehicles  <span class="info-icon" data-toggle="tooltip" data-placement="top" 
                          title="Efficiency Score is calculated based on:
- Fuel/Energy Usage (50%)
- Distance Covered (30%)
- Uptime (20%)">
                          ‚ÑπÔ∏è
                    </span> </h3>
          <table class="table table-striped table-bordered mt-3">
            <thead>
              <tr>
                  <th>Rank</th>
                  <th>Vehicle</th>
                  <th>Efficiency Score üìä</th>
                  <th>Fuel/Energy Use ‚õΩ‚ö°</th>
                  <th>Distance Covered üöó</th>
                  <th>Uptime ‚è≥</th>
              </tr>
          </thead>
          <tbody>
            <tr>
                <td>ü•á 1</td>
                <td>Toyota Corolla</td>
                <td>
                    <div class="rating-container">
                        <div class="rating-bar"><div class="rating-fill" style="width: 95%;"></div></div>
                        <span class="percentage">95% (Fuel: 50%, Distance: 30%, Uptime: 20%)</span>
                    </div>
                </td>
                <td>18 km/L / 6.5 km/kWh</td>
                <td>12,300 km</td>
                <td>98%</td>
            </tr>
            <tr>
                <td>ü•â 2</td>
                <td>Honda Civic</td>
                <td>
                    <div class="rating-container">
                        <div class="rating-bar"><div class="rating-fill" style="width: 92%;"></div></div>
                        <span class="percentage">92% (Fuel: 48%, Distance: 30%, Uptime: 20%)</span>
                    </div>
                </td>
                <td>17 km/L / 6.2 km/kWh</td>
                <td>11,700 km</td>
                <td>96%</td>
            </tr>
            <tr>
                <td>ü•à 3</td>
                <td>Ford Mustang</td>
                <td>
                    <div class="rating-container">
                        <div class="rating-bar"><div class="rating-fill" style="width: 89%;"></div></div>
                        <span class="percentage">89% (Fuel: 46%, Distance: 30%, Uptime: 20%)</span>
                    </div>
                </td>
                <td>16 km/L / 6.0 km/kWh </td>
                <td>11,200 km</td>
                <td>94%</td>
            </tr>
            <tr>
                <td>ü•à 4</td>
                <td>Chevrolet Malibu</td>
                <td>
                    <div class="rating-container">
                        <div class="rating-bar"><div class="rating-fill" style="width: 87%;"></div></div>
                        <span class="percentage">87% (Fuel: 44%, Distance: 30%, Uptime: 20%)</span>
                    </div>
                </td>
                <td>15 km/L / 5.8 km/kWh </td>
                <td>10,800 km</td>
                <td>93%</td>
            </tr>
            <tr>
                <td>ü•à 5</td>
                <td>Nissan Altima</td>
                <td>
                    <div class="rating-container">
                        <div class="rating-bar"><div class="rating-fill" style="width: 75%;"></div></div>
                        <span class="percentage">75% (Fuel: 38%, Distance: 30%, Uptime: 20%)</span>
                    </div>
                </td>
                <td>14 km/L / 5.5 km/kWh </td>
                <td>10,500 km</td>
                <td>92%</td>
            </tr>
        </tbody>

          </table>
        </div>
      </div>
    </div>

    <div class="col-sm-6">
      <div class="card card-fluid">
          <div class="card-body">
              <h3 class="card-title text-center">
                  Top 5 Least Efficient Vehicles
                  <span class="info-icon" data-toggle="tooltip" data-placement="top" 
                        title="Efficiency Score is based on:
  - Fuel Waste (50%)
  - Downtime (30%)
  - Performance Score (20%)">
                        ‚ÑπÔ∏è
                  </span>
              </h3>
              <table class="table table-striped table-bordered mt-3 text-center">
                  <thead>
                      <tr>
                          <th>Rank</th>
                          <th>Vehicle</th>
                          <th>Efficiency üìâ</th>
                          <th>Fuel Waste ‚õΩ</th>
                          <th>Downtime ‚è≥</th>
                          <th>Score ‚ö†Ô∏è</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td>üü• 1</td>
                          <td>BMW 3A</td>
                          <td>
                              <div class="rating-container">
                                  <div class="rating-bar"><div class="rating-fill1" style="width: 45%;"></div></div>
                                  <span class="percentage">45% (Fuel: 50%, Downtime: 30%, Score: 20%)</span>
                              </div>
                          </td>
                          <td>High</td>
                          <td>30%</td>
                          <td>üö® Very Low</td>
                      </tr>
                      <tr>
                          <td>üüß 2</td>
                          <td>Audi</td>
                          <td>
                              <div class="rating-container">
                                  <div class="rating-bar"><div class="rating-fill1" style="width: 48%;"></div></div>
                                  <span class="percentage">48% (Fuel: 48%, Downtime: 30%, Score: 22%)</span>
                              </div>
                          </td>
                          <td>High</td>
                          <td>25%</td>
                          <td>‚ö†Ô∏è Critical</td>
                      </tr>
                      <tr>
                          <td>üüß 3</td>
                          <td>Audi 2</td>
                          <td>
                              <div class="rating-container">
                                  <div class="rating-bar"><div class="rating-fill1" style="width: 50%;"></div></div>
                                  <span class="percentage">50% (Fuel: 46%, Downtime: 30%, Score: 24%)</span>
                              </div>
                          </td>
                          <td>Medium</td>
                          <td>20%</td>
                          <td>‚ö†Ô∏è Needs Attention</td>
                      </tr>
                      <tr>
                          <td>üü® 4</td>
                          <td>Lexius</td>
                          <td>
                              <div class="rating-container">
                                  <div class="rating-bar"><div class="rating-fill1" style="width: 52%;"></div></div>
                                  <span class="percentage">52% (Fuel: 44%, Downtime: 30%, Score: 26%)</span>
                              </div>
                          </td>
                          <td>Medium</td>
                          <td>18%</td>
                          <td>üî∂ Below Average</td>
                      </tr>
                      <tr>
                          <td>üü® 5</td>
                          <td>Altima</td>
                          <td>
                              <div class="rating-container">
                                  <div class="rating-bar"><div class="rating-fill1" style="width: 55%;"></div></div>
                                  <span class="percentage">55% (Fuel: 42%, Downtime: 30%, Score: 28%)</span>
                              </div>
                          </td>
                          <td>Medium</td>
                          <td>15%</td>
                          <td>üî∂ Below Average</td>
                      </tr>
                  </tbody>
              </table>
          </div>
      </div>
  </div>
  
  </div>

  <div class="row">
    <div class="col-sm-4">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title mb-4"> Driving Distance </h3>
          <p class="text-center font-weight-bold">
            Average Hours Driven<br>
            17.5 h
          </p>
          <div class="chartjs" style="height: 192px">
            <canvas id="driving_distance_graph"></canvas>
          </div>

          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th> Top Vehicles </th>
                  <th class="text-right"> Distance </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td class="align-middle text-truncate">
                    <a href="{{ url_for('main.vehicle_show') }}">BMW</a>
                  </td>
                  <td class="align-middle text-center"> 40 mi </td>
                </tr>

                <tr>
                  <td class="align-middle text-truncate">
                    <a href="{{ url_for('main.vehicle_show') }}">Toyota</a>
                  </td>
                  <td class="align-middle text-center"> 220 mi </td>
                </tr>

                <tr>
                  <td class="align-middle text-truncate">
                    <a href="{{ url_for('main.vehicle_show') }}">Audi</a>
                  </td>
                  <td class="align-middle text-center"> 670 mi </td>
                </tr>

                <tr>
                  <td class="align-middle text-truncate">
                    <a href="{{ url_for('main.vehicle_show') }}">BMW2</a>
                  </td>
                  <td class="align-middle text-center"> 480 mi </td>
                </tr>

                <tr>
                  <td class="align-middle text-truncate">
                    <a href="{{ url_for('main.vehicle_show') }}">Lexius</a>
                  </td>
                  <td class="align-middle text-center"> 300 mi </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <div class="card card-fluid">
        <div class="card-header">
          <h6>Driver Safety Scorecard</h6>
        </div>

        <div class="card-body">
          <center>
            <canvas id="driver_safety_scorecard" width="251" height="251"></canvas>
          </center>
        </div>

        <div class="card-footer" style="margin-top: 127px">
          <div class="row">
            <div class="col-sm-6">
              <div class="card-footer-item">
                <i class="fa fa-fw fa-circle text-success"></i> <div class="text-muted small"> Low Risk </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="card-footer-item">
                <i class="fa fa-fw fa-circle text-primary"></i> <div class="text-muted small"> Mild Risk </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="card-footer-item">
                <i class="fa fa-fw fa-circle text-warning"></i> <div class="text-muted small"> Medium Risk </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="card-footer-item">
                <i class="fa fa-fw fa-circle text-danger"></i> <div class="text-muted small"> High Risk </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card card-fluid">
        <div class="card-body">
          <h3 class="card-title text-center"> Fuel Usages </h3>
          <div class="false-For-Bottom-Text">
            <div class="mypiechart">
              <center>
                <canvas id="fuel_usage_pie_chart" width="300" height="300"></canvas>
              </center>
            </div>

            <p class="text-center mt-2 font-weight-bold">Total Fuel Used 33,422.45 gal</p>
          </div>
        </div>

        <div class="card-footer" style="margin-top: 127px">
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-success"></i> <div class="text-muted small"> Fuel Used Dividend </div>
          </div>
          <div class="card-footer-item">
            <i class="fa fa-fw fa-circle text-red"></i> <div class="text-muted small"> Fuel Wastage </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-8">
      <div class="card card-fluid">
        <div class="card-header">
          Fuel vs. Efficiency Scatter Plot &nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="right" data-html="true" title="" data-original-title="Each Circle Represents a Trip: Each point (circle) on the scatter plot represents a single trip made by the vehicle <br>X-Axis: The horizontal axis shows the fuel consumption of the trip in liters per 100 kilometers (L/100 km).<br>Y-Axis: The vertical axis displays the efficiency of the trip in kilometers per liter (km/L), calculated as the inverse of fuel consumption.<br><br><strong>Color Coding:</strong><br>Green: Represents high efficiency, where the vehicle used less fuel and traveled more kilometers per liter.<br>Orange: Indicates moderate efficiency, where fuel consumption and efficiency are average.<br>Red: Indicates low efficiency, where the vehicle used more fuel and traveled fewer kilometers per liter.<br>"><span class="menu-icon fas fa-info"></span> Info</button>
        </div>
        <div class="card-body">
          <iframe src="/fuel-vs-efficiency-scatter-plot-graph" style="min-height: 390px; width: 100%; border: none;" id="fuel_vs_efficiency_scatter_plot_graph_iframe"></iframe>
        </div>
        <div class="card-footer">
          <div class="card-footer-item">
            <span style="font-weight: bold; color: green; font-size: 22px;">--</span> <div class="text-muted small"> Good Efficiency (> 10 km/L) </div>
          </div>
          <div class="card-footer-item">
            <span style="font-weight: bold; color: #e38000; font-size: 22px;">--</span> <div class="text-muted small"> Moderate Efficiency (7-10 km/L) </div>
          </div>
          <div class="card-footer-item">
            <span style="font-weight: bold; color: red; font-size: 22px;">--</span> <div class="text-muted small"> Low Efficiency (< 7 km/L) </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- CSS for Styling -->
    <style>
      .info-icon {
        font-size: 16px;
        cursor: pointer;
        margin-left: 8px;
        color: #dc3545;
        display: inline-block;
      }
  
      .rating-container {
        display: flex;
        align-items: center;
      }
  
      .rating-bar {
        width: 100px;
        height: 10px;
        background-color: #ddd;
        border-radius: 5px;
        overflow: hidden;
        margin-right: 8px;
      }
  
      .rating-fill {
        height: 100%;
        background-color: #46dc35;
      }
      .rating-fill1 {
        height: 100%;
        background-color: #dc3535;
      }
      .percentage {
        font-weight: bold;
      }
    </style>

    <div class="col-sm-4">
      <div class="card card-fluid">
        <div class="card-header">
          <h3 class="card-title text-center">Top 5 Aggressive Drivers </h3>
        </div>
        <div class="card-body">
          <canvas id="top_5_aggressive_drivers" style="width:100%;min-height: 494px;"></canvas>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
