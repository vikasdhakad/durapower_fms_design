<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<div id="dashboard_map" style="height: 100%;"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  
<script>
  var greenVehicleIcon = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAvCAYAAACCLMghAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAADGxJREFUeJy9WAdYlNcSBd8LLDGxvZBook+lS5PekSpSLBTpTUCCIIoIogGWujTpSrGgAsZeolFjjRILNiRGTFBAacvSBBYBg2U57/7/soqxxpdkvm/2LmV3zj135szcX0joPawa1cLplzMZiSeStIP3BC2zW2+7xSpnfoVaktHNyZFmN2Xj7W+a5AScm1OwPGHpvrX2RZXHpl3trBV7n+9+p91HM8OvxNfTONNkrwZLt3NGjOKQJFMGkkxZTIuagdFhGhBZqQvRldoQI+vnEaaPVVNca63WLy3Mu3JA6npfw6gPCtyNHuFVh6I9DdKMb8jFKPCkSEB+YBnw38tiSvQMMMI1IBqqQwDo0CD4qw4YBMwXq2d3mucFFmdd3vX5ewdmo0U46+y6qY55rt+oJmpwpJnyPEmm3PPAM+IUoZmsDctsK1jn2UMn0xMaaR6QipuPCatNwAjTAyNUAEIHE9YYP5FjORz0Lo2zLfq17N9vDd6ERuHcczniDvnOO1UTtB5LkIDTY6Xp4PKxSnDa4ILEI0k4cO0gqppvobGHfILbitquZpy6XY7MU6VwKVqDr1bPhlgIn42PhoFMi57X6Lg10nBn9bmP3giAdSxVcn6u3XdSZMdUcMkYKcgw5RG2KwKX7lxER/cDPOQ+RH9/PwYHB/H06VMMDQ1BYNT7ZzweWno6sO74dkxcYgjRpZokR7RoMJMizNrn5C71YGNQ+JXg7ej+l03mvCyF2JnPJJjSkIqWw8wEFRScK0QDuwHtne3gPugBl8tFX3/fawFQxiM/8sjLY/K3Mz9fgvIyGzD8VSG2TJtmYirTunLN9+s1XgHgtclniWK8She1e+qs1VgaOHnrNDitLWjjtKGjnUDs4tIAOjs7cP9eHfEaNNTXobGhDu1tHAw+HsTLcICufi5mrXYFw2MmGISN0SQ5NViuFXtqL4x7Hnz3nQOfzEozuS7NnDE0ndAuRxIt6mAM2BySki0taG1tRVtHGwHQhfNlZ7AiaBHmzdaGjakarE01iKvDxc4cG9ano6OjFSNJoRg5ePEEJP2NIbJIBYxgLYwLnzUYuDvZtRm9o4Tuol7Ya4u3vwxTbogqLSlCf2DJUtxpugt2UzMBwEFbK4cw0IaN6zOhoTAFslNGQ0vhS9o1lciqNAmqcuKQ+koM1mZa6HrQ9iIviD8leXGo/BTGuKpA1E8FYsu1IB9nfyX+x63iQok/JI43TDM6Lahx9WQtXL13DQ2NjWhuaqQZaCMM3L1zG4F+rogMD8Lq0ABcu1KOG1fLUVlxBT/fuIwLZScRutQHOekJWBMWhN7eHgiooF4HyPFYRnqC4aYExhJ1jF9lNGCWG2AjFH0kykiVpdErGcOvc88t3mjltKCmpg7sRooBNm5UXkd2BgtGmjLwcLSEl8tcbCvKR8mWPJRuK8D24kJszM+Ai+1sBPk5Q3fmdOz+dhsG+h+S4AIQQ8jctxn/cSfC5aMCkRAtqCS5bBbyLPGKpTJeiuxeKU4ZuadzUf1bNWpr7hIG2OCwG+EwzwwLbIxhZaSBAG9XBPi6EzY8ELjYHaaGKgjyJ+/9vcjqicXeTuRIpiBosSs8nOfiIcXEMA332pqhtcIOou7KpDzVMSXSsl3IebP7RYlhldNLM8TRGz+gqqoKtbU1aKYYYNfD0lgd9nNNUZCbjp7ubqIDA3QZPnnyGGnJcVSq0fukdtnV3QkTfUUsX7IIliaq4PZ0Pc8HKhdcU0Mg4qII0QBVfBqiDyH9VOMqCUI/JTw26xfgl4ZbwwBq0dTUBHZLA+ZZ6BEAZgTAWvSQShighOj33/H08e9IS4ojR83jb5Gs3V2dMNVVQAgBMN9Kj5Rt94iKGMLKzSyIOslDxJ+U5XJtCFnkWPXSCUhA2BY44G5LzQsAzQ1oIaXIio6AsY4S/NztkJ+9llRDFjblZaOoIBvuC+eiqHAdijaswxbieVkpUJ8xCc4LzPHD0X00SyMBRJakQ2QhAbCYAqAFIc1knTrJGFkawIJ8W/zW9OsIBkgVcDiIWb0Cpjry0JCfBG2lyWDFrEJ+TirtFCu0r0uDl5MNpCYxyJGpwcxwJjgtzcM1MJwGRBQiilLAoACQchQl/UJIN1W/UnK4vZpkmqGsqowGUENyoInSAU4rwkO+xo6STchKiSM7M8O1yxeQnBiN1EQmUlhkTYrG7l0lyExLgMUsFfx2+yaYa0JQdbPyDzLNg2/WKog6U0dARInIsxBpq8ckY6QhQVhQZWmi+Hwpbt++TQCQKmhsIrtoQzDJ7sTYCFoB7a0NUXH9CjJJveeks5Cbwffv9u9CDlm1Z07DoYN7sNjLgQC4/rIsD/TCPNIDIq6KEPlaDWOW6UFoYZ5zCFWGVCLKMGdg5e5w1NffJ2VYi8ZhBnzd7JCVFotAH2dYGKjgzMkjOHpoD44f3o8T5JxPHNtPJPo4WLGrIC8xHmWnj8KPfKbqVsVLR7Dn7PeY4qUHEU9liARpQI7lOCC04ttwLdUEdS5fCeVgsNYEzR1NpNHUEyEiOUBkuHBdFnxJAnostILTfFN6d0F+LqTWXbDMz424K4KJezrNxcK5RggkOrHE14WoIfelVu29NhQMJwWI+CjTPUE3w2eH0IbyTWPNM2aflI7mj1zSBETy4RTUk/pvbqSqoIV0vPtEdNyIEM1EVHgwOjs66MbE5fYQoelFf18f0YaHKL/wI6xIg5prro09326lgw4RjaDa87W7v2CihzZE3CkNUIN4hEm/c3GUpdDZlrJRATuDfOWYik/pZkSA6CQboPjCdrDZLXQvoHqCu6MNZL4UwzJ/dwwMvBhIeDzec72/Wv4TlKXFoST5GUq3Fj7f+a36asyL8iECJA9RX9KMyO6V4h3PJp8rFafb8fbKXRP0kgxuStGzH58Jk8zZuF5bAQ4pQ6odnzx+DOsyknH29InXTkTU64MHHdi7sxjFWzbgXl0N/ftHTx7BPWU5PnFWgugiQj05+7Er9Z8t2hbrU0+1Y4G5FboEK8WrdAsAUNLsWOiM0/RQQlpyBxlIurvIufa+cSTjA+HRyviM/P5+axNCC+Mx1k0Nol4keKA6xFbo8OTj7a7klR8Y99JEtPH8xi90kvSOCNqyQB0pJnaW70YNu5bofDe4JLH63zCSDQ1TPvBkEOXVP8MhYQnGuJHO50tGskDSBVdoQXy1WZtdYZhrOx69Ohe6bfSyVY3T7HoBQhbS0fzytM62wY6ru1B5vxLsTjYePuojc99jegh9OvQMvQN9uNfaiNO/XIBHegjEvbTxkTfV+1XBIIrHCNWl7wqqSc6ltXjEeP1UfCbtY5tc21gqsMSIiwj/SKTpCVknWQ/WudZwKXCBd6Ev7NODYBnvC501jpAOscS4xWQC/loVoss0yY4JCOrGRO4JlMvH29cv3Zdq+saxnLKUU+mTDZKNqqTJreel46BBydAuAPhf8j9iYcM3I7JD/qrz/HZEeyj/2jYmzIBnvzHc67vqi6JvBVDWfn6Ud7Gfh1qSVjt/UJF9ng9Sw8kpuJpRABgEAHX5EBnhIwFQ1I8O0+Mpxy68kFu+f+Jbgwtsy7XSCXb5TnlUULpT/uE4BD6VAKQYEAmjdqn7EgiB03eBKKs7wQfXmr9XcIHlXyxU0E7U7xZQ/qEAqBvznLzg8O9bKt9O/R+tGZxRrlsXpcoxFZ58KAAq8bTTvJBTvlf2TwUXWORh5ld6KcaVrwv+TgBh2hgbYTzgv4Pl90HBKdtbe0h41bEoIwWm4rM/A4CfgFrQTnC9lPHTrs8+GABl3XggbJFteVg2Vo5u19Tc8C4AVOJ9FmHcHnMkT5rN635V8f6sLS72t9Vk6dRTYjQyH94E4JNwgydKiY6b/+/AArs0cE00YGtQpAz9qEbunQCmRlpWB+1O1v3LAFB2vrNstGGaMblByw29DgBj+OzHr5r1KHh/pi0HPR/2cOpt5lrg9o1ivErf6wBQ9U41G+mYBdcPN1Z8/JcHp+weGsXMMyxKBVI8bbgX8B/T6WJylEWLS0nUwr8luMBscx3mqMRrcCXo54TypBdo0cGpJmSZF7y/Gu1/zQPKN9naH7M/ddjgnEI1qqmEgY9X8hmQYs6/51YcrfO3BqesERxh5pF4aXWWfv30aHn6CEaH6fMcNoWxCm8cHvu3A6CMi25h502eLCmm8jNGuCamR9vU7au9OP0fCS6wHddLJppkzKv4PMLgkdM2ps8/GpyybnQIJxzPcrRI8yk7UHdZ/EO/53+fCBYeesWSJQAAAABJRU5ErkJggg==";

  var redVehicleIcon = "data:image/png;base64,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";

    var yellowVehicleIcon = "data:image/png;base64,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";

    // Initialize the map and set view to Singapore (latitude: 1.3521, longitude: 103.8198)
    var map = L.map('dashboard_map').setView([1.3521, 103.8198], 13); // Coordinates for Singapore

    // Add day mode tile layer (CartoDB Positron for light theme)
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      maxZoom: 19
    }).addTo(map);

    // Base64 strings for 12 icons (sample base64, replace with your own)
    var base64Icons = {
      inshop: yellowVehicleIcon,
      idle: redVehicleIcon,
      active: greenVehicleIcon
    };

    // Function to create a marker icon from Base64 string
    function createIcon(base64) {
      return new L.Icon({
        iconUrl: base64,
        iconSize: [32, 47],
        iconAnchor: [16, 32],
        popupAnchor: [0, -32]
      });
    }

    // Markers (12 different icons with colors and hover details)
    var markersData = [
      { lat: 1.3521, lng: 103.8198, color: 'inshop', description: '<br><b>Truck 563</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3600, lng: 103.8280, color: 'active', description: '<br><b>Car 43</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3700, lng: 103.8200, color: 'inshop', description: '<br><b>Audi 63</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3550, lng: 103.8120, color: 'inshop', description: '<br><b>BMW 999</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3620, lng: 103.8350, color: 'idle', description: '<br><b>Toyota 12</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3500, lng: 103.8500, color: 'active', description: '<br><b>Car 11</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3650, lng: 103.8300, color: 'idle', description: '<br><b>Bus 765</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3800, lng: 103.8500, color: 'idle', description: '<br><b>Lexus</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3550, lng: 103.8400, color: 'active', description: '<br><b>Mou</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3450, lng: 103.8150, color: 'active', description: '<br><b>Audi 232</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { 88: 1.3750, lng: 103.8100, color: 'active', description: '<br><b>Truck 563</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
      { lat: 1.3650, lng: 103.8450, color: 'active', description: '<br><b>Truck 345</b><br><b>Vehicle Id:</b> 332<br><b>Rating:</b> 4.4<br><b>Battery:</b> 79%' },
    ];

    // Loop through markersData array to place markers on the map
    markersData.forEach(function(data) {
      var marker = L.marker([data.lat, data.lng], {icon: createIcon(base64Icons[data.color])}).addTo(map);

      marker.bindPopup(`<b>Status: ${data.color.charAt(0).toUpperCase() + data.color.slice(1)}</b><br>${data.description}<br><b>Latitude:</b> ${data.lat}<br><b>Longitude:</b> ${data.lng}<br>`);

      // Enable Bootstrap popovers on hover
      marker.on('mouseover', function () {
          marker.openPopup();
      });
      marker.on('mouseout', function () {
          marker.closePopup();
      });
    });
</script>
